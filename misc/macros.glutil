### generic macros
#
### run with: ./glutil -m <macro name>
#
## [dirlog-update]
## Update directory log with new records and remove records that are
## missing from filesystem 
#@MACRO:dirlog-update:{m:exe} -r -u -v --postexec "{exe} --check --fix --ghost -v"
#
## [dupe]
## Search for duplicates in dirlog, avoiding non-releases
#@MACRO:dupe:{m:exe} -p --regexi "\/(sample|proof|covers|booklet|subs|cover|CD[0-9]{1,3}|dvd[0-9]{1,3})$|.*( COMPLETE ).*" {m:arg1}
## [dupe-v]
## With progress stats
#@MACRO:dupe-v:{m:exe} -p --regexi "\/(sample|proof|booklet|covers|subs|cover|CD[0-9]{1,3}|dvd[0-9]{1,3})$|.*( COMPLETE ).*" {m:arg1} -v
#
## [make-tvrage-dirlinks]
## Creates symlinks in show folders, example:
##
##  ../[ TVRAGE - Scripted - Comedy,Family ] 
##
## Requires a tvlog built with DATABASE_TYPE=0 (see tvrage_get.sh)
##
#@MACRO:make-tvrage-dirlinks:{m:exe} -h --silent --exec `rm "{glroot}{dir}/[ TVRAGE "*;ln -s "{glroot}{dir}" "{glroot}{dir}/[ TVRAGE - {class} - {genres} ]"` {m:arg1}